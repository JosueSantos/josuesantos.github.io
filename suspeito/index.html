<!DOCTYPE html>
<html lang="pt_BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property="og:title" content="Jogador Suspeito">
    <meta property="og:description" content="Um simulador de jogador virtual de um jogo de tabuleiro">
    <meta property="og:url" content="https://josuesantos.github.io/suspeito">
    <meta property="og:image" content="../img/js.PNG">
    
    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="J.S.">
    <meta property="og:locale" content="pt_BR">

    <meta property="twitter:site" content="https://josuesantos.github.io/suspeito">
    <meta property="twitter:title" content="Jogador Suspeito">
    <meta property="twitter:creator" content="J.S. - Josué Santos">
    <meta property="twitter:description" content="Um simulador de jogador virtual de um jogo de tabuleiro">
    <meta property="twitter:image:src" content="../img/js.PNG">

    <meta itemprop="name" content="Jogador Suspeito">
    <meta itemprop="description" content="Um simulador de jogador virtual de um jogo de tabuleiro">
    <meta itemprop="image" content="../img/js.PNG">
    
    <title>Jogador Suspeito</title>

    <meta name="description" content="Um simulador de jogador virtual de um jogo de tabuleiro">
    <meta name="author" content="J.S. - Josué Santos">
    
    <link rel="shortcut icon" href="../favicon-16x16.png" type="image/x-icon" />

    <!-- Bootstrap Core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- theme-color -->
    <meta name="theme-color" content="#2196f3" />
    <!-- end-theme-color -->

    <style type="text/css">
        .scene {
            height: 550px;
            perspective: 550px;
        }

        .card {
            width: 100%;
            height: 100%;
            transition: transform 1s;
            transform-style: preserve-3d;
            position: relative;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .card__face--front {
            background: white;
        }

        .card__face--back {
            background: white;
            transform: rotateY(180deg);
        }
    </style>
</head>

<body>
    <div class="row">
        <div class="col-md-8 col-md-offset-2 scene scene--card">
            <div class="card">
                <div class="card__face card__face--front" id="front"></div>
                <div class="card__face card__face--back" id="back"></div>
            </div>
        </div>
    </div>

    <script> // CRIAR VARIAVEIS
        function Jogador(){
            var nome;
            var virtual;
            var cartas = [];
        };

        jogadores = [];

        pessoa = [
            'Motorista',
            'Empregada',
            'Mordomo',
            'Cozinheiro',
            'Esposa',
            'Jardineiro',
            'Vizinho'
        ];

        arma = [
            'Veneno',
            'Abajur',
            'Revolver',
            'Faca',
            'Tesoura de Poda',
            'Chave de Boca',
            'Martelo'
        ];

        local = [
            'Varanda',
            'Escritorio',
            'Hall Central',
            'Biblioteca',
            'Sala',
            'Cozinha',
            'Banheiro',
            'Suíte',
            'Quarto',
            'Escadaria'
        ];
    </script>

    <script> // CRIAR JOGADOR
        function criarJogador( virtual ){
            player = new Jogador();

            player.nome = prompt('Informe o Nome do Jogador:');
            player.virtual = virtual;
            jogadores.push(player);

            html = printJogadores();
            contentJogadores.innerHTML = html;
        }

        function exibirCartas(){
            function checkbox(item, index){
                html += "<div class='form-check'><input class='form-check-input' type='checkbox' value='' id='"
                + item +
                "'/>" +
                "<label class='form-check-label' for='"
                + item +
                "'> " + item + "</label></div>";
            }

            html = '<div class="row">';
            html += '<div class="col-md-4">';
            pessoa.forEach(checkbox);
            html += '</div>';
            html += '<div class="col-md-4">';
            arma.forEach(checkbox);
            html += '</div>';
            html += '<div class="col-md-4">';
            local.forEach(checkbox);
            html += '</div>';

            html += '</div>';

            return html;
        }

        function adicionarCartas(){
            selectJogador = document.getElementById('jogadores').value;

            cartas = document.querySelectorAll('input[type="checkbox"]:checked');

            cartasJogador = [];
            cartas.forEach(function(item, index){
                cartasJogador.push(item.id);
                item.checked = false;
            });

            jogadores.forEach(function(item, index){
                if (item.nome == selectJogador){
                    item.cartas = cartasJogador
                }
            });

            alert("Cartas do " + selectJogador + " salvas");
            selectJogador = document.getElementById('jogadores');
            html = '';
            jogadores.forEach(function(item, index){
                if (item.virtual){
                    if(item.cartas === undefined){
                        html += "<option>" + item.nome + "</option>";
                    }else{
                        html += "<option value='" + item.nome + "'>" + item.nome + " CARTAS SALVAS</option>";
                    }
                }
            });
            selectJogador.innerHTML = html;
        }

        function selectJogadores( filtro ){
            html = '';
            jogadores.forEach(function(item, index){
                if (filtro){
                    if(item.virtual){
                        html += "<option>" + item.nome + "</option>";
                    }
                }else{
                    html += "<option>" + item.nome + "</option>";
                }
            });
            return html;
        }

        function printJogadores(){
            html = '';
            contentJogadores = document.getElementById('jogadores');
            jogadores.forEach(function(item, index){
                html += item.nome + "<br/>";
            });

            return html;
        }
    </script>

    <script> // AÇÃO DO JOGADOR
        function OndeIr(){
            jogador = document.getElementById('jogadorVez').value;
            ponto = document.getElementById('ponto').checked;
            dado = document.getElementById('dado').value;

            'Vou Andar!';
            'Vou ficar ai mesmo!';
            'Vou dar um palpite';

            alert(jogador + '-' + ponto +'-'+dado);


            document.getElementById('ponto').checked = false;
        }

        function AcaoJogo(){
            acao = document.getElementById('acao').value;
            jogador = document.getElementById('jogadorPergunta').value;

            cartas = document.querySelectorAll('input[type="checkbox"]:checked');

            cartasJogadas = [];
            cartas.forEach(function(item, index){
                cartasJogadas.push(item.id);
                item.checked = false;
            });

            switch(acao){
                case '0':
                    Palpite( jogador, cartasJogadas )
                    break;
                case '1':
                    EVerdade( jogador, cartasJogadas );
                    break;
                case '2':
                    VerdadeOuMentira( jogador, cartasJogadas );
                    break;
            }

        }
    </script>
    
    <script> // LÓGICA DO JOGADOR
        function Palpite( jogador, cartasJogadas ){
            jogadores.forEach(function(item, index){
                if(item.nome != jogador)
                    cartasJogadas;
            });
        }

        function EVerdade( jogador, cartasJogadas ){
            jogadores.forEach(function(item, index){
                if(item.nome != jogador)
                    cartasJogadas;
            });
        }

        function VerdadeOuMentira( jogador, cartasJogadas ){
            jogadores.forEach(function(item, index){
                if(item.nome != jogador)
                    cartasJogadas;
            });
        }
    </script>

    <script> // CONTROLE DE TELAS
        var FrontBack = true;
        var card = document.querySelector('.card');

        contentFront = document.getElementById('front');
        contentBack = document.getElementById('back');

        // Primeira Tela
        proximaTela( 0, contentFront );

        function flip( flip ){
            FrontBack = !FrontBack;
            if( FrontBack ){
                proximaTela( flip, contentFront );
                card.classList.toggle('is-flipped');
                setTimeout(function(){
                    contentBack.innerHTML = '';
                }, 800);
            }else{
                proximaTela( flip, contentBack );
                card.classList.toggle('is-flipped');
                setTimeout(function(){
                    contentFront.innerHTML = '';
                }, 800);
            }
        }

        function proximaTela(flip, content){
            html = '';

            switch( flip ){
                case 0:
                    html = "<img  onclick='flip(1)' src='suspeito.png' width='100%'>"+
                    "<button onclick='flip(1)' class='btn btn-primary btn-block'>Iniciar</button>";
                    break;
                case 1:
                    html = "<h2>Quem vai Jogar?</h2>"+
                    "<button onclick='criarJogador(false)' class='btn btn-primary btn-block'>Inserir Jogador Real</button>" +
                    "<button onclick='criarJogador(true)' class='btn btn-primary btn-block'>Criar Jogador Virtual</button>"+
                    "<hr/><blockquote id='jogadores'>";

                    html += printJogadores();

                    html += "</blockquote>"+
                    "<button onclick='flip(2)' class='btn btn-success btn-block'>Continuar</button>"+
                    "<button onclick='flip(0)' class='btn btn-info btn-block'>Voltar</button>";
                    break;
                case 2:
                    html = "<h2>Quais minhas cartas?</h2>"+
                    "<select id='jogadores' class='form-control'>";

                    html += selectJogadores( true );
                    
                    html += "</select>"+
                    "<br/>";

                    html += exibirCartas();
                    
                    html += "<br/>"+
                    "<button onclick='adicionarCartas()' class='btn btn-primary btn-block'>Salvar Cartas</button>"+
                    "<button onclick='flip(1)' class='btn btn-info btn-block'>Voltar</button>"+
                    "<button onclick='flip(3)' class='btn btn-success btn-block'>Continuar</button>";
                    break;
                case 3:
                    html = "<img onclick='flip(4)' src='suspeito.png' width='100%'>"+
                    "<button onclick='flip(4)' class='btn btn-success btn-block'>Bo Jogar!</button>"+
                    "<button onclick='flip(2)' class='btn btn-info btn-block'>Voltar</button>";
                    break;
                case 4:
                    html = ""+
                    "<div class='col-md-12 bg-success'>"+
                    "<br/>"+
                        "<div class='col-md-6'>"+
                            "<label>De quem é a Vez?</label>"+
                            "<select id='jogadorVez' class='form-control'>";
                            html += selectJogadores( true );
                            html += "</select>"+
                            "<div class='form-check'>"+
                                "<input class='form-check-input' type='checkbox' id='ponto'/>" +
                                "<label class='form-check-label' for='ponto'>-Estou no Ponto de Palpite</label>"+
                            "</div>"+
                        "</div>"+
                        "<div class='col-md-6'>"+
                            "<div class='form-group'>"+
                                "<label>Valor do dado</label>"+
                                "<input class='form-control' type='number' id='dado'>"+
                            "</div>"+
                        "</div>"+
                        "<button onclick='OndeIr()' class='btn btn-success btn-block'>O que vai fazer?</button>"+
                    "<br/></div>"+

                    "<div class='col-md-12'><br/>"+
                        "<div class='col-md-6'>"+
                            "<label>O que houve?</label>"+
                            "<select id='acao' class='form-control'>"+
                                "<option value='0'>Cheguei ao Local do Palpite</option>"+
                                "<option value='1'>Oponente disse que é verdade</option>"+
                                "<option value='2'>Eu sou perguntado se é verdade ou Mentira</option>"+
                            "</select><br/>"+
                        "</div>" +
                        "<div class='col-md-6'>"+
                            "<label>Com quem?</label>"+
                            "<select id='jogadorPergunta' class='form-control'>";
                            html += selectJogadores( false );
                            html += "</select><br/>"+
                        "</div>" +
                        "<div class='col-md-12'>";
                            html += exibirCartas();
                        html += "</div><br/>"+
                    "<button onclick='AcaoJogo()' class='btn btn-success btn-block'>Qual sua ação?</button>"+
                    "<br/>"+
                    "</div></div>";
                    break;

            }
            content.innerHTML = html;
        }
    </script>
</body>

</html>
