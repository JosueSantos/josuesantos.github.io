<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trilhas</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: radial-gradient(circle at top, #1e293b, #0f172a 70%);
      font-family: 'Inter', sans-serif;
      color: #fff;
    }

    .player-card {
      backdrop-filter: blur(20px);
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.12);
    }

    .playlist-card {
      backdrop-filter: blur(20px);
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.10);
    }

    .active-song {
      background: rgba(255,255,255,0.12);
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6">

  <div class="w-full max-w-4xl grid grid-cols-1 md:grid-cols-3 gap-6">

    <!-- PLAYER PRINCIPAL -->
    <div class="player-card md:col-span-2 p-6 rounded-3xl shadow-xl flex flex-col items-center">
      
      <div class="text-center mb-4">
        <h2 id="trackTitle" class="text-xl font-semibold">‚Äî</h2>
        <p id="trackArtist" class="text-sm text-gray-300">‚Äî</p>
      </div>

      <audio id="audio"></audio>

      <!-- Progress -->
      <div class="w-full mb-4">
        <div class="h-2 bg-white/20 rounded-full overflow-hidden cursor-pointer" id="progressBar">
          <div id="progress" class="h-full bg-blue-400" style="width:0%"></div>
        </div>
        <div class="flex justify-between text-xs text-gray-300 mt-1">
          <span id="curTime">0:00</span>
          <span id="durTime">0:00</span>
        </div>
      </div>

      <!-- Controls -->
      <div class="flex items-center gap-4 mt-2">
        <button id="prevBtn" class="text-2xl">‚èÆ</button>
        <button id="playBtn" class="text-4xl px-4">‚ñ∂</button>
        <button id="nextBtn" class="text-2xl">‚è≠</button>
        <button id="loopBtn" class="text-xl ml-4 opacity-70 hover:opacity-100">‚ü≤</button>
      </div>

      <!-- Volume -->
      <div class="mt-6 w-full flex items-center gap-3">
        <span class="text-xs text-gray-300">üîâ</span>
        <input id="vol" type="range" min="0" max="1" step="0.01" value="0.7" class="w-full" />
      </div>
    </div>

    <!-- PLAYLIST -->
    <div class="playlist-card rounded-3xl p-4 overflow-auto max-h-[70vh]">
      <h3 class="text-lg font-semibold mb-4">Playlist</h3>
      <ul id="playlist" class="space-y-2 text-sm"></ul>
    </div>

  </div>

  <script>
    const tracks = [
      { file: 'Ave Maria _ Bach_Gounod _ Instrumental Piano.mp3', title: 'Ave Maria', artist: 'Instrumental' },
      { file: 'ALDO SENA - GUITARRADAS DO PAR√Å _ CD COMPLETO.mp3', title: 'GUITARRADAS DO PAR√Å', artist: 'Instrumental' }
    ];

    let current = 0;
    const audio = document.getElementById('audio');

    const titleEl = document.getElementById('trackTitle');
    const artistEl = document.getElementById('trackArtist');
    const progress = document.getElementById('progress');
    const progressBar = document.getElementById('progressBar');
    const curTime = document.getElementById('curTime');
    const durTime = document.getElementById('durTime');
    const playBtn = document.getElementById('playBtn');
    const playlistEl = document.getElementById('playlist');

    function formatTime(sec){
      sec = Math.floor(sec);
      const m = Math.floor(sec/60);
      const s = String(sec % 60).padStart(2,'0');
      return `${m}:${s}`;
    }

    function loadTrack(i){
      current = i;
      audio.src = tracks[i].file;
      titleEl.textContent = tracks[i].title;
      artistEl.textContent = tracks[i].artist;
      highlightActive();
      audio.play();
      playBtn.textContent = '‚è∏';
    }

    function highlightActive(){
      document.querySelectorAll('.track-item').forEach((li, idx)=>{
        li.classList.toggle('active-song', idx===current);
      });
    }

    // Build playlist
    tracks.forEach((t,i)=>{
      const li = document.createElement('li');
      li.className = "track-item p-3 rounded-xl cursor-pointer hover:bg-white/10";
      li.innerHTML = `<div class='font-medium'>${t.title}</div><div class='text-gray-400 text-xs'>${t.artist}</div>`;
      li.addEventListener('click', ()=> loadTrack(i));
      playlistEl.appendChild(li);
    });

    loadTrack(0);

    playBtn.addEventListener('click', ()=>{
      if(audio.paused){ audio.play(); playBtn.textContent='‚è∏'; }
      else { audio.pause(); playBtn.textContent='‚ñ∂'; }
    });

    document.getElementById('prevBtn').addEventListener('click', ()=>{
      if(current>0) loadTrack(current-1);
    });

    document.getElementById('nextBtn').addEventListener('click', ()=>{
      if(current < tracks.length-1) loadTrack(current+1);
    });

    audio.addEventListener('timeupdate', ()=>{
      const pct = (audio.currentTime / audio.duration) * 100;
      progress.style.width = pct + '%';
      curTime.textContent = formatTime(audio.currentTime);
      durTime.textContent = isFinite(audio.duration) ? formatTime(audio.duration) : '0:00';
    });

    document.getElementById('loopBtn').addEventListener('click', ()=>{
      audio.loop = !audio.loop;
      loopBtn.style.opacity = audio.loop ? '1' : '0.6';
    });

    document.getElementById('vol').addEventListener('input', e=> audio.volume = e.target.value);
  </script>

</body>
</html>
