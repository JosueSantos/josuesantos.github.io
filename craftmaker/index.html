<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="keywords" content="ufc, papercraft, face maker">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="author" content="UFC - SMD - Projeto Integrado 2 - 2020.2">
  <meta name="description" content="Craft Maker - Criador de Papercraft personalizado">
  <title>Craft Maker</title>

  <meta itemprop="name" content="Craft Maker">
  <meta itemprop="description" content="Craft Maker - Criador de Papercraft personalizado - UFC - SMD - Projeto Integrado 2 - 2020.2">
  <meta itemprop="image" content="img/favicon.png">


  <link rel="apple-touch-icon" sizes="72x72" href="img/favicon.png">
  <link rel="apple-touch-icon" sizes="128x128" href="img/favicon.png">
  <link rel="apple-touch-icon" sizes="152x152" href="img/favicon.png">
  <link rel="apple-touch-icon" sizes="192x192" href="img/favicon.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="img/favicon.png">
  <link rel="icon" type="image/x-icon" sizes="16x16" href="img/favicon.png">

  <!-- theme-color -->
  <meta name="theme-color" content="#bbba48" />
  <!-- end-theme-color -->

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  
  <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon" />
</head>
  
<body>
<!-- Wide card with share menu button -->
<style>
html, body {
  margin: auto;
  max-width: 960px;
}
.mdl-layout__content {
  background-color: #cacaca50;
}
.card-wide > .mdl-card__title {
  color: #000;
}
</style>
<div class="mdl-layout__content">
<div class="mdl-grid">
  <div class="mdl-cell mdl-cell--6-col card-wide mdl-card mdl-shadow--2dp">
    <div class="mdl-card__title">
      <a class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" id="download" download="myCraft.jpg" onclick="download_img(this);">
        <i class="material-icons">vertical_align_bottom</i>
      </a>
    </div>
    <canvas id="canva_craft"></canvas>
  </div>

  <div class="mdl-cell mdl-cell--6-col menu">
    <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
      <div class="mdl-tabs__tab-bar">
        <a href="#starks-panel" class="mdl-tabs__tab is-active">Olho</a>
        <a href="#lannisters-panel" class="mdl-tabs__tab">Nariz</a>
        <a href="#targaryens-panel" class="mdl-tabs__tab">Boca</a>
      </div>
      <div class="mdl-tabs__panel is-active" id="starks-panel">
        <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--2-col" onclick="olho.src = 'img/olho01.png';"><img src="img/olho01.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="olho.src = 'img/olho02.png';"><img src="img/olho02.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="olho.src = 'img/olho03.png';"><img src="img/olho03.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="olho.src = 'img/olho04.png';"><img src="img/olho04.png" width="100%" /></div>
        </div>
      </div>
      <div class="mdl-tabs__panel" id="lannisters-panel">
        <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--2-col" onclick="nariz.src = 'img/nariz01.png';"><img src="img/nariz01.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="nariz.src = 'img/nariz02.png';"><img src="img/nariz02.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="nariz.src = 'img/nariz03.png';"><img src="img/nariz03.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="nariz.src = 'img/nariz04.png';"><img src="img/nariz04.png" width="100%" /></div>
        </div>
      </div>
      <div class="mdl-tabs__panel" id="targaryens-panel">
        <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--2-col" onclick="boca.src = 'img/boca01.png';"><img src="img/boca01.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="boca.src = 'img/boca02.png';"><img src="img/boca02.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="boca.src = 'img/boca03.png';"><img src="img/boca03.png" width="100%" /></div>
          <div class="mdl-cell mdl-cell--2-col" onclick="boca.src = 'img/boca04.png';"><img src="img/boca04.png" width="100%" /></div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<script type="text/javascript">
const canva_craft = document.getElementById("canva_craft");
canva_craft.height = 250;
const context = canva_craft.getContext('2d');

const olho = document.createElement("img");
const nariz = document.createElement("img");
const boca = document.createElement("img");

olho.addEventListener("load", function(){
  context.clearRect(0, 0, olho.width, olho.height);

  context.drawImage(
    olho, 0, 0, olho.width, olho.height, 0, 0, olho.width, olho.height
  );
});

nariz.addEventListener("load", function(){
  context.clearRect(0, olho.height, nariz.width, nariz.height);

  context.drawImage(
    nariz, 0, 0, nariz.width, nariz.height, 0, olho.height, nariz.width, nariz.height
  );
});

boca.addEventListener("load", function(){
  context.clearRect(0, ( nariz.height + olho.height ), boca.width, boca.height);

  context.drawImage(
    boca, 0, 0, boca.width, boca.height, 0, ( nariz.height + olho.height ), boca.width, boca.height
  );
});

download_img = function(el) {
  var image = canva_craft.toDataURL("image/jpg");
  el.href = image;
};
</script>
</body>
</html>